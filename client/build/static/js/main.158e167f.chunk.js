(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{163:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n,c=a(2),s=a.n(c),r=a(54),i=a.n(r),o=(a(163),a(6)),u=a(19),l=a(8),d=a(44),j=a(45),b=a(11),O=a(17),_=a.p+"static/media/user-placeholder.157f088b.png";!function(e){e.SET_DIALOGS="dialogs/SET_DIALOGS",e.FETCH_DIALOGS="dialogs/FETCH_DIALOGS",e.CREATE_DIALOG="dialogs/CREATE_DIALOG",e.GET_DIALOG="dialogs/GET_DIALOG",e.SET_CURRENT_DIALOG="dialog/SET_CURRENT_DIALOG",e.UPDATE_DIALOG_NEW_MESSAGE="dialogs/UPDATE_DIALOG_NEW_MESSAGE"}(n||(n={}));var p,m,x=function(){return{type:n.FETCH_DIALOGS}},h=function(e){return{type:n.SET_CURRENT_DIALOG,payload:e}},v=function(e){return{type:n.UPDATE_DIALOG_NEW_MESSAGE,payload:e}};!function(e){e.LOADED="LOADED",e.LOADING="LOADING",e.ERROR="ERROR",e.NEVER="NEVER",e.SUCCESS="SUCCESS"}(p||(p={})),function(e){e.UNAUTHORIZED="UNAUTHORIZED"}(m||(m={}));var f,E=function(e){return e.dialogs},g=function(e){return E(e).dialogs},S=function(e){return function(e){return E(e).LoadingStatus}(e)===p.LOADED},N=function(e){return E(e).currentDialog},T=function(e){return e.user},A=function(e){return T(e).data},w=function(e){return T(e).userId},D=function(e){return T(e).isConfirmed},y=function(e){return T(e).status},I=function(e){return!!T(e).data},k=a(1),G=function(e){var t=e.toggleChat,a=Object(o.b)(),n=Object(o.c)(S),c=Object(o.c)(g),r=Object(o.c)(w);return s.a.useEffect((function(){n||0!==c.length||a(x())}),[a,t]),Object(k.jsx)("div",{className:"chat-side ".concat(t?"chat-side--active":""),children:Object(k.jsx)("div",{className:"chat-side__body",children:n?c.map((function(e){return Object(k.jsx)(L,Object(O.a)({user:r===e.partner._id?e.author:e.partner},e),e._id)})):null})})},L=function(e){var t=e._id,a=e.user;return Object(k.jsxs)(l.b,{to:"/chat/dialog/".concat(t),className:"chat-side__card",children:[Object(k.jsxs)("div",{className:"chat-side__avatar",children:[Object(k.jsx)("img",{src:a.avatar?a.avatar:_,alt:""}),Object(k.jsx)("span",{className:"chat__status ".concat(a.isOnline?"chat__status--online":"chat__status--offline")})]}),Object(k.jsx)("div",{className:"chat-side__fullname",children:Object(k.jsx)("h6",{children:a.fullname})})]})},C=a(32),R=function(){return Object(k.jsx)("div",{className:"search",children:Object(k.jsx)("form",{action:"",className:"search__form",children:Object(k.jsxs)("div",{className:"search__form-group",children:[Object(k.jsx)(C.c,{className:"search__form-icon"}),Object(k.jsx)("input",{type:"text",placeholder:"Start typing to search..",className:"search__form-input"})]})})})},M=a(47),P=a(78),F=a(50),U=a(79),H=s.a.memo((function(e){var t=e.handleToggleChat,a=Object(u.h)(),n=Object(o.c)(A),c=a.pathname.split("/");return Object(k.jsxs)("header",{className:"header",children:[Object(k.jsx)("div",{className:"header__logo",children:Object(k.jsx)("a",{href:"/",children:"Social network"})}),Object(k.jsx)(R,{}),Object(k.jsx)("div",{className:"header__menu",children:Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{className:""===c[1]?"header__menu-item header__menu-item--active":"header__menu-item",children:Object(k.jsx)(l.b,{to:"/",children:Object(k.jsx)(M.a,{className:"header__menu-icon"})})}),Object(k.jsx)("li",{className:"header__menu-item",children:Object(k.jsx)(l.b,{to:"/",children:Object(k.jsx)(M.a,{className:"header__menu-icon"})})}),Object(k.jsx)("li",{className:"header__menu-item",children:Object(k.jsx)(l.b,{to:"/",children:Object(k.jsx)(M.a,{className:"header__menu-icon"})})}),Object(k.jsx)("li",{className:"header__menu-item",children:Object(k.jsx)(l.b,{to:"/",children:Object(k.jsx)(M.a,{className:"header__menu-icon"})})}),Object(k.jsx)("li",{className:"header__menu-item",children:Object(k.jsx)(l.b,{to:"/",children:Object(k.jsx)(M.a,{className:"header__menu-icon"})})})]})}),Object(k.jsxs)("div",{className:"header__inner",children:[Object(k.jsx)("div",{className:"header__notification",children:Object(k.jsx)(P.b,{className:"header__icon"})}),Object(k.jsx)("div",{className:"header__profile",children:Object(k.jsx)(l.b,{to:"/user/".concat(null===n||void 0===n?void 0:n._id),children:Object(k.jsx)(U.a,{className:"header__icon"})})})]}),Object(k.jsx)("div",{className:"header__chat gradient-primary",onClick:t,children:Object(k.jsx)(F.a,{})})]})})),V=a(147),K=a(37),Y=a(100),W=s.a.memo((function(){return Object(k.jsx)("aside",{className:"navigation",children:Object(k.jsxs)("nav",{className:"navigation__content",children:[Object(k.jsxs)("div",{className:"navigation__wrap",children:[Object(k.jsx)("div",{className:"navigation__caption",children:"Feeds"}),Object(k.jsxs)("ul",{className:"navigation__menu",children:[Object(k.jsx)("li",{children:Object(k.jsxs)(l.b,{to:"/",children:[Object(k.jsx)("div",{className:"navigation__icon gradient-blue",children:Object(k.jsx)(M.b,{})}),Object(k.jsx)("span",{children:"Newsfeed"})]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(l.b,{to:"/",children:[Object(k.jsx)("div",{className:"navigation__icon gradient-red",children:Object(k.jsx)(V.a,{})}),Object(k.jsx)("span",{children:"Badges"})]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(l.b,{to:"/",children:[Object(k.jsx)("div",{className:"navigation__icon gradient-gold",children:Object(k.jsx)(K.d,{})}),Object(k.jsx)("span",{children:"Stories"})]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(l.b,{to:"/",children:[Object(k.jsx)("div",{className:"navigation__icon gradient-pink",children:Object(k.jsx)(C.b,{})}),Object(k.jsx)("span",{children:"Groups"})]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(l.b,{to:"/",children:[Object(k.jsx)("div",{className:"navigation__icon gradient-primary",children:Object(k.jsx)(Y.b,{})}),Object(k.jsx)("span",{children:"Profile"})]})})]})]}),Object(k.jsxs)("div",{className:"navigation__wrap",children:[Object(k.jsx)("div",{className:"navigation__caption",children:"Account"}),Object(k.jsxs)("ul",{className:"navigation__menu",children:[Object(k.jsx)("li",{children:Object(k.jsxs)(l.b,{to:"/",children:[Object(k.jsx)("div",{className:"navigation__icon",children:Object(k.jsx)(Y.a,{className:"gray"})}),Object(k.jsx)("span",{children:"Settings"})]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(l.b,{to:"/chat",children:[Object(k.jsx)("div",{className:"navigation__icon",children:Object(k.jsx)(C.a,{className:"gray"})}),Object(k.jsx)("span",{children:"Chat"})]})})]})]})]})})})),q=function(e){var t=e.children,a=s.a.useState(!1),n=Object(b.a)(a,2),c=n[0],r=n[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(H,{handleToggleChat:function(){r(!c)}}),Object(k.jsx)(W,{}),Object(k.jsx)(G,{toggleChat:c}),Object(k.jsx)("div",{className:"main-content",children:Object(k.jsx)("div",{className:"main-content__inner",children:t})})]})},J=a(57),B=a(46),Z=s.a.memo((function(e){var t=e.likes,a=e.postId,n=e.meId,c=e.fetchToggleLikePost,r=Object(o.b)(),i=s.a.useState(""),u=Object(b.a)(i,2),d=u[0],j=u[1];s.a.useMemo((function(){null===t||void 0===t||t.forEach((function(e){if(e._id===n)return j(a)}))}),[t,n,a]);return Object(k.jsxs)("div",{className:"post__actions-item",style:0!==(null===t||void 0===t?void 0:t.length)?{cursor:"pointer"}:{cursor:"initial"},children:[Object(k.jsx)("div",{className:"post__actions-item__inner gradient-blue",onClick:function(){return function(e){r(c(e)),j(d===e?"":e)}(a)},children:Object(k.jsx)(B.a,{className:"post__actions-icon post__actions-icon__heart ".concat(d?"post__actions-icon__heart--active":null)})}),Object(k.jsx)(J.a,{trigger:Object(k.jsxs)("div",{className:"post__action-count",children:[null===t||void 0===t?void 0:t.length," Like"]}),closeOnDocumentClick:!0,disabled:0===(null===t||void 0===t?void 0:t.length),on:["hover"],position:"top center",className:"post__actions-item",children:null===t||void 0===t?void 0:t.map((function(e){return Object(k.jsx)("div",{children:Object(k.jsx)(l.b,{to:"/user/".concat(e._id),children:Object(k.jsx)("img",{src:(null===e||void 0===e?void 0:e.avatar)?e.avatar:_,title:e.fullname,alt:""})})},e.fullname)}))})]})})),X=function(e){return function(e){return e.post}(e).post};!function(e){e.SET_POST="post/SET_POST",e.FETCH_POST="post/FETCH_POST",e.FETCH_TOGGLE_LIKE_POST="post/FETCH_TOGGLE_LIKE_POST",e.TOGGLE_LIKE_POST="post/TOGGLE_LIKE_POST",e.ADD_COMMENT_TO_POST="post/ADD_COMMENT_TO_POST",e.FETCH_ADD_COMMENT_TO_POST="post/FETCH_ADD_COMMENT_TO_POST"}(f||(f={}));var z,Q=function(e){return{type:f.SET_POST,payload:e}},$=function(e){return{type:f.FETCH_TOGGLE_LIKE_POST,payload:e}},ee=function(e){return{type:f.ADD_COMMENT_TO_POST,payload:e}},te=function(e){return{type:f.TOGGLE_LIKE_POST,payload:e}},ae=function(e){var t=e.cls;return Object(k.jsx)("div",{className:"loader ".concat(t," "),children:Object(k.jsx)("div",{className:"loader__typing"})})},ne=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})},ce=a(3),se=a.n(ce),re=a(9),ie=function(){var e=Object(o.b)(),t=s.a.useState(""),a=Object(b.a)(t,2),n=a[0],c=a[1],r=function(){var t=Object(re.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==n?(e((a=n,{type:f.FETCH_ADD_COMMENT_TO_POST,payload:a})),c("")):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442!");case 1:case"end":return t.stop()}var a}),t)})));return function(){return t.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsx)("textarea",{className:"post__comments-form",cols:30,rows:10,value:n,onChange:function(e){c(e.currentTarget.value)}}),Object(k.jsx)("button",{className:"post__comments-button",onClick:r,children:"Add comment"})]})},oe=function(){var e=Object(o.c)(X),t=e._id,a=e.createdAt,n=e.text,c=e.likes,r=e.user,i=e.images,u=e.comments,b=Object(o.c)(w),O=Object(o.b)();return s.a.useEffect((function(){O({type:f.FETCH_POST})}),[]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(q,{children:Object(k.jsx)("div",{className:"container",children:ne(e)?Object(k.jsx)(ae,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"post",children:[Object(k.jsx)("div",{className:"post__info",children:Object(k.jsxs)(l.b,{to:"/user/".concat(r._id),className:"post__user",children:[Object(k.jsx)("div",{className:"post__user-img",children:Object(k.jsx)("img",{src:r.avatar?r.avatar:_,alt:""})}),Object(k.jsxs)("div",{className:"post__user-info",children:[Object(k.jsx)("div",{className:"post__user-info-full",children:r.fullname}),Object(k.jsx)("div",{className:"post__user-info-date",children:Object(d.a)(new Date(a),"dd MMM. yyyy \u0433.",{locale:j.a})})]})]})}),Object(k.jsx)("div",{className:"post__text",children:n}),0!==(null===i||void 0===i?void 0:i.length)&&Object(k.jsx)("div",{className:"post__images",children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:e,alt:""})},t)}))}),Object(k.jsxs)("div",{className:"post__actions",children:[Object(k.jsx)(Z,{postId:t,likes:c,meId:b,fetchToggleLikePost:$}),Object(k.jsxs)("div",{className:"post__actions-item",children:[Object(k.jsx)("div",{className:"post__actions-item__inner gradient-red",children:Object(k.jsx)(K.a,{className:"post__actions-icon"})}),Object(k.jsxs)("div",{className:"post__action-count",children:[null===u||void 0===u?void 0:u.length," Comment"]})]})]})]}),Object(k.jsxs)("div",{className:"post__comments",children:[Object(k.jsx)("h3",{className:"post__title",children:"Comments"}),0===(null===u||void 0===u?void 0:u.length)?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"post__comments-none",children:"be the first to leave a comment \ud83d\ude00"}),Object(k.jsx)(ie,{})]}):Object(k.jsxs)(k.Fragment,{children:[null===u||void 0===u?void 0:u.map((function(e){return Object(k.jsxs)("div",{className:"post__comment",children:[Object(k.jsxs)("div",{className:"post__comment-user",children:[Object(k.jsx)("div",{className:"post__comment-user__img",children:Object(k.jsx)("img",{src:e.user.avatar?e.user.avatar:_,alt:""})}),Object(k.jsx)("div",{className:"post__comment-user__fullname",children:e.user.fullname})]}),Object(k.jsx)("div",{className:"post__comment-text",children:e.text})]},e.text)})),Object(k.jsx)(ie,{})]})]})]})})})})},ue=a(40),le=a(148);!function(e){e.SET_POSTS="posts/SET_POSTS",e.FETCH_POSTS="posts/FETCH_POSTS",e.SET_LOADING_STATE="posts/SET_LOADING_STATE",e.FETCH_ADD_POST="posts/FETCH_ADD_POST",e.ADD_POST="posts/ADD_POST",e.REMOVE_POST="posts/REMOVE_POST",e.UPDATE_POST="posts/UPDATE_POST",e.FETCH_TOGGLE_LIKE_POST="posts/FETCH_TOGGLE_LIKE_POST",e.TOGGLE_LIKE_POST="posts/TOGGLE_LIKE_POST",e.SET_ADD_FORM_STATE="posts/SET_ADD_FORM_STATE"}(z||(z={}));var de,je=function(e){return{type:z.ADD_POST,payload:e}},be=function(e){return{type:z.SET_LOADING_STATE,payload:e}},Oe=function(e){return{type:z.SET_ADD_FORM_STATE,payload:e}},_e=function(e){return{type:z.FETCH_TOGGLE_LIKE_POST,payload:e}},pe=function(e){return{type:z.TOGGLE_LIKE_POST,payload:e}},me=function(){return{type:z.FETCH_POSTS}};!function(e){e.LOADING="LOADING",e.ERROR="ERROR",e.NEVER="NEVER"}(de||(de={}));var xe,he=a(20),ve=a.n(he),fe=function(){var e=Object(re.a)(se.a.mark((function e(t){var a,n,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",t),e.next=4,ve.a.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"}});case 4:return n=e.sent,c=n.data,console.log(c),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=a(16),ge=function(e){var t=e.children,a=e.onChangeImages,n=e.target,c=s.a.useRef(null),r=s.a.useCallback((function(e){if(e.target){var t=e.target.files;0!==(null===t||void 0===t?void 0:t.length)&&Array.prototype.forEach.call(t,(function(e){var t=new Blob([e]);a((function(a){return[].concat(Object(Ee.a)(a),[{blobUrl:URL.createObjectURL(t),file:e}])}))}))}}),[a]);return s.a.useEffect((function(){return c.current&&c.current.addEventListener("change",r),function(){c.current&&c.current.removeEventListener("change",r)}}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{onClick:function(){c.current&&c.current.click()},style:{cursor:"pointer"},children:n}),t,Object(k.jsx)("input",{type:"file",ref:c,id:"upload-input",hidden:!0,multiple:!0})]})},Se=function(){var e=Object(o.b)(),t=s.a.useState(""),a=Object(b.a)(t,2),n=a[0],c=a[1],r=s.a.useState([]),i=Object(b.a)(r,2),u=i[0],l=i[1],d=Object(k.jsxs)("div",{className:"create-post__add-image",children:[Object(k.jsx)(le.a,{className:"create-post__add-image__icon"}),"Photo"]}),j=function(){var t=Object(re.a)(se.a.mark((function t(){var a,s,r,i,o;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],e(Oe(de.LOADING)),s=0;case 3:if(!(s<u.length)){t.next=13;break}return r=u[s].file,t.next=7,fe(r);case 7:i=t.sent,o=i.url,a.push(o);case 10:s++,t.next=3;break;case 13:e((d={text:n,images:a},{type:z.FETCH_ADD_POST,payload:d})),c(""),l([]);case 16:case"end":return t.stop()}var d}),t)})));return function(){return t.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"create-post",children:[Object(k.jsxs)("div",{className:"create-post__title",onClick:j,children:[Object(k.jsx)("div",{className:"create-post__title-icon",children:Object(k.jsx)(K.b,{})}),Object(k.jsx)("span",{children:"Create Post"})]}),Object(k.jsxs)("div",{className:"create-post__body",children:[Object(k.jsx)("figure",{className:"create-post__avatar",children:Object(k.jsx)("img",{src:"http://sociala.uitheme.net/assets/images/user-8.png",alt:""})}),Object(k.jsx)("textarea",{className:"create-post__message",placeholder:"What's on your mind?",cols:30,rows:10,onChange:function(e){e.currentTarget&&c(e.currentTarget.value)},value:n}),Object(k.jsx)(ge,{images:u,onChangeImages:l,target:d,children:Object(k.jsx)("div",{className:"create-post__add-images",children:u.map((function(e){return Object(k.jsxs)("div",{className:"create-post__add-images__inner",children:[Object(k.jsx)("div",{className:"create-post__add-images__remove",onClick:function(){return t=e.blobUrl,void l(u.filter((function(e){return e.blobUrl!==t})));var t},children:Object(k.jsx)(C.d,{})}),Object(k.jsx)("img",{src:e.blobUrl,alt:""})]},e.blobUrl)}))})})]})]})},Ne=function(e){var t=e.id,a=e.text,n=Object(o.b)(),c=s.a.useState(a),r=Object(b.a)(c,2),i=r[0],u=r[1],l=function(e){e.currentTarget&&u(e.currentTarget.value)},d=function(){var e;n((e={id:t,text:i},{type:z.UPDATE_POST,payload:e}))};return Object(k.jsx)(J.a,{className:"edit-popup",trigger:Object(k.jsx)("div",{children:" Edit post "}),modal:!0,children:function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("textarea",{className:"edit-popup__input",cols:30,rows:10,value:i,onChange:l}),Object(k.jsx)("div",{className:"edit-popup__inner",children:Object(k.jsx)("button",{onClick:function(){d(),e()},className:"edit-popup__button button gradient-primary",children:"Update Post"})})]})}})},Te=s.a.memo((function(e){var t=e._id,a=e.text,n=e.createdAt,c=e.user,s=e.images,r=e.likes,i=e.comments,u=Object(o.b)(),b=Object(o.c)(w);return Object(k.jsxs)("div",{className:"post",children:[Object(k.jsxs)("div",{className:"post__info",children:[Object(k.jsxs)(l.b,{to:"/user/".concat(c._id),className:"post__user",children:[Object(k.jsx)("div",{className:"post__user-img",children:Object(k.jsx)("img",{src:c.avatar?c.avatar:_,alt:""})}),Object(k.jsxs)("div",{className:"post__user-info",children:[Object(k.jsx)("div",{className:"post__user-info-full",children:c.fullname}),Object(k.jsx)("div",{className:"post__user-info-date",children:Object(d.a)(new Date(n),"dd MMM. yyyy \u0433.",{locale:j.a})})]})]}),b===c._id?Object(k.jsx)("div",{className:"post__func",children:Object(k.jsxs)(J.a,{trigger:Object(k.jsxs)("div",{className:"post__func-button",children:[Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{})]}),position:"right center",nested:!0,className:"post__func",arrow:!1,children:[Object(k.jsx)("div",{onClick:function(e){var a;window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0432\u0438\u0442?")&&u((a=t,{type:z.REMOVE_POST,payload:a}))},children:"Delete post"}),Object(k.jsx)(Ne,{id:t,text:a})]})}):null]}),Object(k.jsxs)("div",{className:"post__text",children:[a,Object(k.jsx)(l.b,{to:"/post/".concat(t),onClick:function(){u(Q({_id:t,createdAt:n,text:a,images:s,user:c,likes:r}))},className:"post__see-more",children:"See more"})]}),0!==(null===s||void 0===s?void 0:s.length)&&Object(k.jsx)("div",{className:"post__images",children:null===s||void 0===s?void 0:s.map((function(e,t){return Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:e,alt:""})},t)}))}),Object(k.jsxs)("div",{className:"post__actions",children:[Object(k.jsx)(Z,{postId:t,likes:r,meId:b,fetchToggleLikePost:_e}),Object(k.jsxs)(l.b,{to:"/post/".concat(t),className:"post__actions-item",children:[Object(k.jsx)("div",{className:"post__actions-item__inner gradient-red",children:Object(k.jsx)(K.a,{className:"post__actions-icon"})}),Object(k.jsxs)("div",{className:"post__action-count",children:[null===i||void 0===i?void 0:i.length," Comment"]})]})]})]})})),Ae=function(e){return e.posts},we=function(e){return Ae(e).LoadingStatus},De=function(e){return Ae(e).posts},ye=function(e){return we(e)===p.LOADING},Ie=Object(ue.c)((function(e){return function(){var t=Object(o.c)(I),a=Object(o.c)(y);return a!==p.NEVER&&a!==p.LOADING?t?Object(k.jsx)(e,{}):Object(k.jsx)(u.a,{to:"/signin"}):Object(k.jsx)(ae,{})}}))((function(){var e=Object(o.b)(),t=Object(o.c)(De),a=Object(o.c)(ye);return s.a.useEffect((function(){e(me())}),[]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(q,{children:Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)(Se,{}),a?Object(k.jsx)(ae,{}):t.map((function(e){return Object(k.jsx)(Te,Object(O.a)({images:e.images},e),e._id)}))]})})})})),ke=a.p+"static/media/404.d6ed9b80.png",Ge=function(){return Object(k.jsxs)("div",{className:"not-found",children:[Object(k.jsx)("div",{className:"not-found__img",children:Object(k.jsx)("img",{src:ke,alt:""})}),Object(k.jsx)("div",{className:"not-found__title",children:"Oops! It looks like you're lost."}),Object(k.jsx)("div",{className:"not-found__text",children:"The page you're looking for isn't available. Try to search again or use the go to."}),Object(k.jsx)(l.b,{to:"/",className:"not-found__button",children:"Home Page"})]})},Le=a(21),Ce=a(82),Re=a(30);!function(e){e.SET_USER_DATA="user/SET_USER_DATA",e.SET_ME_ID="user/SET_ME_ID",e.FETCH_SIGN_UP="user/FETCH_SIGN_UP",e.FETCH_SIGN_IN="user/FETCH_SIGN_IN",e.FETCH_USER_DATA="user/FETCH_USER_DATA",e.SET_LOADING_STATE="user/SET_LOADING_STATE",e.SIGN_OUT="user/SIGN_OUT",e.VERIFY_EMAIL="user/VERIFY_EMAIL",e.VERIFY_EMAIL_STATUS="/user/VERIFY_EMAIL_STATUS"}(xe||(xe={}));var Me=function(e){return{type:xe.SET_USER_DATA,payload:e}},Pe=function(e){return{type:xe.SET_ME_ID,payload:e}},Fe=function(e){return{type:xe.VERIFY_EMAIL_STATUS,payload:e}},Ue=function(e){return{type:xe.SET_LOADING_STATE,payload:e}},He=a.p+"static/media/login-bg-2.8165691c.jpg",Ve=Re.a().shape({username:Re.c().required("Enter login"),password:Re.c().min(6,"\u200bMinimum password length 6 characters").required()}),Ke=function(){var e=Object(o.b)(),t=Object(u.g)(),a=Object(o.c)(y),n=Object(Le.e)({resolver:Object(Ce.a)(Ve)}),c=n.control,r=n.handleSubmit,i=n.formState.errors,d=function(){var t=Object(re.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e((n=a,{type:xe.FETCH_SIGN_IN,payload:n}));case 1:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}();return s.a.useEffect((function(){a===p.SUCCESS?(alert("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430!"),t.push("/")):a===p.ERROR&&alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}),[a]),Object(k.jsxs)("div",{className:"user-auth user-login",children:[Object(k.jsx)("div",{className:"user-auth__image",children:Object(k.jsx)("img",{src:He,alt:""})}),Object(k.jsxs)("div",{className:"user-auth__form",children:[Object(k.jsxs)("div",{className:"user-auth__buttons",children:[Object(k.jsx)(l.b,{to:"/signin",className:"active",children:"Login"}),Object(k.jsx)(l.b,{to:"/signup",children:"Register"})]}),Object(k.jsxs)("div",{className:"user-auth__inner user-login__inner",children:[Object(k.jsxs)("div",{className:"user-auth__title",children:["Create",Object(k.jsx)("br",{}),"your account"]}),Object(k.jsxs)("form",{onSubmit:r(d),children:[Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t,a=e.field;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(B.d,{})}),Object(k.jsx)("input",Object(O.a)({type:"text",id:"username",placeholder:"username",className:"input"},a))]}),i.username?Object(k.jsx)("div",{className:"input__error",children:null===(t=i.username)||void 0===t?void 0:t.message}):null]})},control:c,name:"username",defaultValue:""})}),Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t,a=e.field;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(F.b,{})}),Object(k.jsx)("input",Object(O.a)({type:"password",id:"password",placeholder:"password",className:"input"},a))]}),i.password?Object(k.jsx)("div",{className:"input__error",children:null===(t=i.password)||void 0===t?void 0:t.message}):null]})},control:c,name:"password",defaultValue:""})}),Object(k.jsx)("button",{className:"user-auth__button",type:"submit",children:"SignIn"})]})]})]})]})},Ye=a.p+"static/media/login-bg.d4611e2f.jpg",We=a(153),qe=a(152),Je=Re.a().shape({fullname:Re.c().required("Please enter your name"),email:Re.c().email("Invalid mail").required("Enter mail"),username:Re.c().required("Enter login"),password:Re.c().min(6,"\u200bMinimum password length 6 characters").required(),password2:Re.c().oneOf([Re.b("password")],"Passwords do not match")}),Be=function(){var e=Object(o.b)(),t=Object(u.g)(),a=Object(o.c)(y),n=s.a.useState(null),c=Object(b.a)(n,2),r=c[0],i=c[1],d=Object(Le.e)({resolver:Object(Ce.a)(Je)}),j=d.control,m=d.handleSubmit,x=d.formState.errors,h=function(){var t=Object(re.a)(se.a.mark((function t(a){var n,c;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return t.next=3,fe(null===r||void 0===r?void 0:r.file);case 3:n=t.sent,c=n.url,a.avatar=c;case 6:e((s=a,{type:xe.FETCH_SIGN_UP,payload:s}));case 7:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}(),v=s.a.useRef(null),f=function(){v.current&&v.current.click()};return s.a.useEffect((function(){a===p.SUCCESS?(alert("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430!"),t.push("/")):a===p.ERROR&&alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438!")}),[a]),Object(k.jsxs)("div",{className:"user-auth",children:[Object(k.jsx)("div",{className:"user-auth__image",children:Object(k.jsx)("img",{src:Ye,alt:""})}),Object(k.jsxs)("div",{className:"user-auth__form",children:[Object(k.jsxs)("div",{className:"user-auth__buttons",children:[Object(k.jsx)(l.b,{to:"/signin",children:"Login"}),Object(k.jsx)(l.b,{to:"/signup",className:"active",children:"Register"})]}),Object(k.jsxs)("div",{className:"user-auth__inner",children:[Object(k.jsxs)("div",{className:"user-auth__title",children:["Create",Object(k.jsx)("br",{}),"your account"]}),Object(k.jsxs)("form",{onSubmit:m(h),children:[Object(k.jsxs)("div",{className:"user-auth__upload-avatar",children:[Object(k.jsx)("img",{src:r?r.blobUrl:_,alt:""}),r?Object(k.jsx)("span",{className:"user-auth__upload-avatar-remove",onClick:function(){return i(null)},children:Object(k.jsx)(C.d,{})}):null,Object(k.jsx)(Le.a,{control:j,render:function(){return Object(k.jsxs)("span",{className:"user-auth__upload-avatar-icon",onClick:f,children:[Object(k.jsx)(qe.a,{}),Object(k.jsx)("input",{onChange:function(e){var t,a=null===(t=e.target.files)||void 0===t?void 0:t[0],n=new Blob([a]);i({blobUrl:URL.createObjectURL(n),file:a})},ref:v,type:"file",hidden:!0})]})},name:"avatar",defaultValue:""})]}),Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t,a=e.field;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(B.c,{})}),Object(k.jsx)("input",Object(O.a)({type:"email",id:"email",placeholder:"email",className:"input"},a))]}),x.email?Object(k.jsx)("div",{className:"input__error",children:null===(t=x.email)||void 0===t?void 0:t.message}):null]})},control:j,name:"email",defaultValue:""})}),Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t,a=e.field;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(B.d,{})}),Object(k.jsx)("input",Object(O.a)({type:"text",id:"username",placeholder:"username",className:"input"},a))]}),x.username?Object(k.jsx)("div",{className:"input__error",children:null===(t=x.username)||void 0===t?void 0:t.message}):null]})},control:j,name:"username",defaultValue:""})}),Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t,a=e.field;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(U.b,{})}),Object(k.jsx)("input",Object(O.a)({type:"text",id:"fullname",placeholder:"fullname",className:"input"},a))]}),x.fullname?Object(k.jsx)("div",{className:"input__error",children:null===(t=x.fullname)||void 0===t?void 0:t.message}):null]})},control:j,name:"fullname",defaultValue:""})}),Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t,a=e.field;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(F.b,{})}),Object(k.jsx)("input",Object(O.a)({type:"password",id:"password",placeholder:"password",className:"input"},a))]}),x.password?Object(k.jsx)("div",{className:"input__error",children:null===(t=x.password)||void 0===t?void 0:t.message}):null]})},control:j,name:"password",defaultValue:""})}),Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t,a=e.field;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(F.b,{})}),Object(k.jsx)("input",Object(O.a)({type:"password",id:"password2",placeholder:"password2",className:"input"},a))]}),x.password2?Object(k.jsx)("div",{className:"input__error",children:null===(t=x.password2)||void 0===t?void 0:t.message}):null]})},control:j,name:"password2",defaultValue:""})}),Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t=e.field;return Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(B.b,{})}),Object(k.jsx)("input",Object(O.a)({type:"text",id:"about",placeholder:"about",className:"input"},t))]})},control:j,name:"about",defaultValue:""})}),Object(k.jsx)("div",{children:Object(k.jsx)(Le.a,{render:function(e){var t=e.field;return Object(k.jsxs)("div",{className:"input__wrapper",children:[Object(k.jsx)("div",{className:"input__wrapper-icon",children:Object(k.jsx)(We.a,{})}),Object(k.jsx)("input",Object(O.a)({type:"text",id:"location",placeholder:"location",className:"input"},t))]})},control:j,name:"location",defaultValue:""})}),Object(k.jsx)("button",{disabled:a===p.LOADING,className:"user-auth__button",type:"submit",children:"Register"})]})]})]})]})},Ze=function(e){var t=e._id,a=e.fullname,c=e.email,s=e.location,r=e.about,i=e.avatar,u=e.dialogs,d=e.meId,j=Object(o.b)(),b=null===u||void 0===u?void 0:u.find((function(e){return e.author._id===t||e.partner._id===t}));return Object(k.jsxs)("div",{className:"user-banner",children:[Object(k.jsx)("figure",{className:"user-banner__avatar",children:Object(k.jsx)("img",{src:i||_,alt:""})}),Object(k.jsxs)("div",{className:"user-banner__inner",children:[Object(k.jsxs)("div",{className:"user-banner__info",children:[Object(k.jsx)("h1",{children:a}),Object(k.jsx)("h4",{children:c})]}),s&&Object(k.jsx)("div",{className:"user-banner__location",children:s})]}),r&&Object(k.jsx)("div",{className:"user-banner__about",children:r}),d!==t&&(b?Object(k.jsx)(l.b,{to:"/chat/dialog/".concat(b._id),className:"user-banner__button gradient-blue",children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}):Object(k.jsxs)("div",{onClick:function(){var e;t&&j((e=t,{type:n.CREATE_DIALOG,payload:e}))},className:"user-banner__button gradient-blue",children:[" ","\u041d\u0430\u0447\u0430\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433"]}))]})};ve.a.interceptors.request.use((function(e){return e.headers.token=window.localStorage.getItem("token"),e}));var Xe={verify:function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.get("/auth/verify?hash="+e);case 2:return a=t.sent,n=a.data,console.log(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},signUp:function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.post("/auth/register",{email:e.email,username:e.username,fullname:e.fullname,password:e.password,password2:e.password2,about:e.about,avatar:e.avatar,location:e.location});case 2:return a=t.sent,n=a.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},signIn:function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.post("/auth/login",{username:e.username,password:e.password});case 2:return a=t.sent,n=a.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},getMe:function(){return Object(re.a)(se.a.mark((function e(){var t,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.a.get("/users/me");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},getUserInfo:function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.get("/users/"+e);case 2:return a=t.sent,n=a.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()}};window.AuthApi=Xe;var ze,Qe=function(e){var t=e.match,a=Object(o.c)(De),n=Object(o.b)(),c=Object(o.c)(ye),r=s.a.useState(!0),i=Object(b.a)(r,2),u=i[0],l=i[1],d=Object(o.c)(w),j=s.a.useState(),_=Object(b.a)(j,2),p=_[0],m=_[1],x=s.a.useState(t.params.id),h=Object(b.a)(x,2),v=h[0],f=h[1];return t.params.id!==v&&f(t.params.id),s.a.useEffect((function(){n(me()),v&&Xe.getUserInfo(v).then((function(e){var t=e.data;m(t),l(!1)}))}),[n,v]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(q,{children:Object(k.jsxs)("div",{className:"container",children:[u?Object(k.jsx)(ae,{}):Object(k.jsx)(Ze,Object(O.a)(Object(O.a)({},p),{},{meId:d})),d===v?Object(k.jsx)(Se,{}):null,c?Object(k.jsx)(ae,{}):a.map((function(e){return Object(k.jsx)(Te,Object(O.a)({images:e.images},e),e._id)}))]})})})},$e=function(){var e=Object(o.b)(),t=Object(o.c)(D),a=Object(u.g)();return s.a.useEffect((function(){var t,a=window.location.pathname.split("/").pop();a&&e((t=a,{type:xe.VERIFY_EMAIL,payload:t}))}),[]),s.a.useEffect((function(){setTimeout((function(){return a.push("/")}),3e3)}),[t]),t?Object(k.jsx)("div",{children:"Your mail has been verified, thank you! You will now be redirected to the login page"}):Object(k.jsx)("div",{children:"Error verified"})},et=a(154),tt=a.n(et)()(window.location.origin.replace("3000","8888"));!function(e){e.SET_MESSAGES="dialogs/messages/SET_MESSAGES",e.FETCH_MESSAGES="dialogs/messages/FETCH_MESSAGES",e.FETCH_ADD_MESSAGE="dialogs/message/FETCH_ADD_MESSAGE",e.ADD_MESSAGE="dialogs/message/ADD_MESSAGE",e.UPDATE_MESSAGE_READ_STATUS="dialogs/message/UPDATE_MESSAGE_READ_STATUS"}(ze||(ze={}));var at=function(e){return{type:ze.SET_MESSAGES,payload:e}},nt=function(e){return{type:ze.FETCH_MESSAGES,payload:e}},ct=function(e){return{type:ze.FETCH_ADD_MESSAGE,payload:e}},st=function(e){return{type:ze.UPDATE_MESSAGE_READ_STATUS,payload:e}},rt=a(316),it=function(e){var t=e._id,a=e.user,n=e.activeDialog,c=e.lastMessage,s=e.newMessages,r=e.isCountNewMessages,i=Object(o.b)();return Object(k.jsx)(l.b,{to:"/chat/dialog/".concat(t),className:"chat__user ".concat(n?"chat__user--active":""),onClick:function(){var e={_id:t,user:a};n!==t&&(tt.emit("DIALOGS:JOIN",e._id),i(h({id:t,user:a})),i(nt(t)),i(v(e._id)))},children:Object(k.jsxs)("div",{className:"chat__user-inner",children:[Object(k.jsxs)("div",{className:"chat__user-info",children:[Object(k.jsxs)("div",{className:"chat__user-avatar",children:[Object(k.jsx)("img",{src:a.avatar?a.avatar:_,alt:""}),Object(k.jsx)("span",{className:"chat__status ".concat(a.isOnline?"chat__status--online":"chat__status--offline")})]}),Object(k.jsxs)("div",{className:"chat__user-info__data",children:[Object(k.jsx)("div",{className:"chat__user-info__fullname",children:Object(k.jsx)("h6",{children:a.fullname})}),c.text?Object(k.jsx)("p",{className:"chat__user-info__message",children:null===c||void 0===c?void 0:c.text}):null]})]}),Object(k.jsxs)("div",{className:"chat__user-meta",children:[Object(k.jsx)("div",{className:"chat__user-meta__time",children:Object(d.a)(new Date(c.createdAt),"".concat(Object(rt.a)(new Date(c.createdAt))?"p":"dd MMM"),{locale:j.a})}),0!==(null===s||void 0===s?void 0:s.count)&&r&&Object(k.jsx)("div",{className:"chat__user-meta__count",children:null===s||void 0===s?void 0:s.count})]})]})})},ot=s.a.memo((function(){var e=Object(o.c)(S),t=Object(o.c)(g),a=Object(o.c)(w),n=Object(o.c)(N);return Object(k.jsx)("div",{className:"chat__contacts chat__scroller",children:e?t.map((function(e){return Object(k.jsx)(it,Object(O.a)(Object(O.a)({user:a===e.partner._id?e.author:e.partner,isCountNewMessages:a!==e.newMessages.user._id},e),{},{activeDialog:n.id===e._id?n.id:""}),e._id)})):null})})),ut=function(e){return e.messages},lt=function(e){return ut(e).LoadingStatus},dt=function(e){return ut(e).messages},jt=function(e){return lt(e)===p.LOADED||lt(e)===p.NEVER},bt=function(e){var t=e.user;return Object(k.jsxs)("div",{className:"chat__messages-profile",children:[Object(k.jsxs)("div",{className:"chat__messages-profile__avatar",children:[Object(k.jsx)("img",{src:(null===t||void 0===t?void 0:t.avatar)?t.avatar:_,alt:""}),Object(k.jsx)("span",{className:"chat__status ".concat((null===t||void 0===t?void 0:t.isOnline)?"chat__status--online":"chat__status--offline")})]}),Object(k.jsx)("div",{className:"chat__messages-profile__fullname",children:null===t||void 0===t?void 0:t.fullname})]})},Ot=function(e){var t=e.message,a=e.me,n=e.read,c=e.partner,s=e.createdAt;return Object(k.jsxs)("div",{className:"chat__message ".concat(a?"":"chat__message-left"),children:[Object(k.jsxs)("div",{className:"chat__message-bubble",children:[Object(k.jsx)("p",{className:"chat__message-text",children:t}),Object(k.jsx)("span",{className:"chat__message-status ".concat(n?"chat__message-status--read":" "),children:Object(k.jsx)(P.a,{})})]}),Object(k.jsxs)("div",{className:"chat__message-info",children:[Object(k.jsx)("div",{className:"chat__message-user",children:Object(k.jsx)("img",{src:c.avatar?c.avatar:_,alt:""})}),Object(k.jsx)("span",{className:"chat__message-sended-time",children:Object(d.a)(new Date(s),"".concat(Object(rt.a)(new Date(s))?"p":"dd MMM p"),{locale:j.a})})]})]})},_t=function(e){var t=e.user;return Object(k.jsxs)("div",{className:"chat__message chat__message-left",children:[Object(k.jsx)("div",{className:"chat__message-bubble",children:Object(k.jsx)("div",{className:"chat__message-typing",children:Object(k.jsx)("span",{className:"chat__message-typing-circle"})})}),Object(k.jsx)("div",{className:"chat__message-info",children:Object(k.jsx)("div",{className:"chat__message-user",children:Object(k.jsx)("img",{src:(null===t||void 0===t?void 0:t.avatar)?t.avatar:_,alt:""})})})]})},pt=a(156),mt=a(155),xt=function(e){var t=e.dialogId,a=e.userId,n=Object(o.b)(),c=s.a.useState(""),r=Object(b.a)(c,2),i=r[0],u=r[1];return Object(k.jsxs)("div",{className:"chat__messages-add",children:[Object(k.jsxs)("div",{className:"chat__messages-add__attagement",children:[Object(k.jsx)(mt.a,{}),Object(k.jsx)(pt.a,{})]}),Object(k.jsx)("div",{className:"chat__messages-add__input",children:Object(k.jsx)("input",{type:"text",placeholder:"Type your message",value:i,onChange:function(e){return u(e.currentTarget.value)},onKeyUp:function(e){tt.emit("DIALOGS:TYPING",{dialogId:t,userId:a}),""!==i&&"Enter"===e.key&&(n(ct({text:i,dialogId:t})),u(""))}})}),Object(k.jsxs)("button",{className:"chat__messages-add__send",onClick:function(){""!==i?(n(ct({text:i,dialogId:t})),u("")):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!")},children:[Object(k.jsx)(K.c,{}),Object(k.jsx)("span",{children:"Send"})]})]})},ht=function(){var e=Object(o.b)(),t=Object(o.c)(jt),a=Object(o.c)(dt),n=Object(o.c)(w),c=Object(o.c)(N),r=s.a.useRef(null),i=s.a.useState(null),u=Object(b.a)(i,2),l=u[0],d=u[1],j=null,_=function(t){var a,s;(null===(a=t.dialog)||void 0===a?void 0:a._id)===c.id&&(e((s=t,{type:ze.ADD_MESSAGE,payload:s})),tt.emit("CLIENT:MESSAGES_READED",c.id),n!==t.user._id&&e(st(c.id)))},p=function(){e(x())};return s.a.useEffect((function(){return tt.on("DIALOGS:TYPING",(function(e){e.dialog===c.id&&(d(e.user),clearInterval(j),j=setTimeout((function(){d(null)}),3e3))})),function(){d(null),tt.off("DIALOGS:TYPING")}}),[c]),s.a.useEffect((function(){return tt.on("SERVER:NEW_MESSAGE",_),function(){tt.off("SERVER:NEW_MESSAGE",_)}}),[n,c]),s.a.useEffect((function(){return tt.on("SERVER:DIALOG_CREATED",p),tt.on("SERVER:NEW_MESSAGE",p),tt.on("SERVER:MESSAGES_READED",(function(t){t===c.id&&tt.emit("CLIENT:DIALOG_IS_OPEN",{dialogId:c.id,user:c.user}),e(st(t))})),function(){tt.off("SERVER:DIALOG_CREATED",p),tt.off("SERVER:NEW_MESSAGE",p),tt.off("SERVER:MESSAGES_READED")}}),[c]),s.a.useEffect((function(){r.current&&t&&0!==a.length&&r.current.scrollTo(0,999999)}),[t,a,l]),Object(k.jsx)("div",{className:"chat__messages  ".concat(t&&0!==a.length?" ":"chat__messages--none"),children:t?t&&0===a.length?Object(k.jsxs)("div",{className:"chat__messages-start",children:[Object(k.jsx)("div",{className:"chat__messages-start__icon",children:Object(k.jsx)(C.a,{})}),Object(k.jsx)("span",{className:"chat__messages-start__title",children:"Start Conversation!"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(bt,{user:c.user}),Object(k.jsxs)("div",{className:"chat__messages-content chat__scroller",ref:r,children:[a.map((function(e){if(e.text)return Object(k.jsx)(Ot,Object(O.a)({partner:e.user,message:e.text,me:n===e.user._id},e),e._id)})),l&&Object(k.jsx)(_t,{user:l})]}),Object(k.jsx)(xt,{dialogId:c.id,userId:n})]}):Object(k.jsx)(ae,{cls:"loader__full"})})},vt=s.a.memo((function(){var e=Object(o.b)(),t=Object(o.c)(N);return s.a.useEffect((function(){var a,c=window.location.pathname,s=c.includes("/dialog")?c.split("/").pop():null;s&&(e((a=s,{type:n.GET_DIALOG,payload:a})),tt.emit("DIALOGS:JOIN",s),e(nt(s)),e(v(t.id)))}),[window.location.pathname]),Object(k.jsx)(q,{children:Object(k.jsxs)("div",{className:"chat",children:[Object(k.jsx)(ot,{}),Object(k.jsx)(ht,{})]})})}));var ft=function(){var e=Object(o.b)();return s.a.useEffect((function(){e({type:xe.FETCH_USER_DATA})}),[e]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(u.d,{children:[Object(k.jsx)(u.b,{path:"/signin",component:Ke,exact:!0}),Object(k.jsx)(u.b,{path:"/signup",component:Be,exact:!0}),Object(k.jsx)(u.b,{path:"/",component:Ie,exact:!0}),Object(k.jsx)(u.b,{path:"/chat",component:vt}),Object(k.jsx)(u.b,{path:"/user/:id",component:Qe,exact:!0}),Object(k.jsx)(u.b,{path:"/post/:id",component:oe,exact:!0}),Object(k.jsx)(u.b,{path:"/user/activate/:hash",component:$e,exact:!0}),Object(k.jsx)(u.b,{path:"*",component:Ge})]})})},Et=a(38),gt=Object(Et.a)((function(e,t){var a,n;switch(t.type){case f.SET_POST:e.post=t.payload;break;case f.TOGGLE_LIKE_POST:var c,s;if(null===(a=e.post.likes)||void 0===a?void 0:a.some((function(e){return e._id===t.payload.user._id})))e.post.likes=null===(c=e.post.likes)||void 0===c?void 0:c.filter((function(e){return e._id!==t.payload.user._id}));else null===(s=e.post.likes)||void 0===s||s.push(t.payload.user);break;case f.ADD_COMMENT_TO_POST:null===(n=e.post.comments)||void 0===n||n.splice(0,0,t.payload)}}),{post:{}}),St={data:void 0,status:p.NEVER,userId:null,isConfirmed:!1},Nt=Object(Et.a)((function(e,t){switch(t.type){case xe.SET_USER_DATA:e.data=t.payload,e.status=p.SUCCESS;break;case xe.SET_LOADING_STATE:e.status=t.payload;break;case xe.SIGN_OUT:e.status=p.LOADED,e.data=void 0;break;case xe.VERIFY_EMAIL_STATUS:e.isConfirmed=t.payload;break;case xe.SET_ME_ID:e.userId=t.payload}}),St),Tt={posts:[],addFormState:de.NEVER,LoadingStatus:p.NEVER,postLikeState:p.NEVER},At=Object(Et.a)((function(e,t){var a;switch(t.type){case z.SET_POSTS:e.posts=t.payload,e.LoadingStatus=p.LOADED;break;case z.FETCH_POSTS:e.posts=[],e.LoadingStatus=p.LOADING;break;case z.SET_LOADING_STATE:e.LoadingStatus=t.payload;break;case z.SET_ADD_FORM_STATE:e.addFormState=t.payload;break;case z.FETCH_ADD_POST:e.addFormState=de.LOADING;break;case z.ADD_POST:e.posts.splice(0,0,t.payload),e.addFormState=de.NEVER;break;case z.REMOVE_POST:e.posts=e.posts.filter((function(e){return e._id!==t.payload}));break;case z.UPDATE_POST:e.posts.forEach((function(e){e._id===t.payload.id&&(e.text=t.payload.text)}));break;case z.TOGGLE_LIKE_POST:var n,c,s=e.posts.findIndex((function(e){return e._id===t.payload.id}));if(null===(a=e.posts[s].likes)||void 0===a?void 0:a.some((function(e){return e._id===t.payload.user._id})))e.posts[s].likes=null===(n=e.posts[s].likes)||void 0===n?void 0:n.filter((function(e){return e._id!==t.payload.user._id}));else null===(c=e.posts[s].likes)||void 0===c||c.push(t.payload.user)}}),Tt),wt={dialogs:[],LoadingStatus:p.NEVER,currentDialog:{id:"",user:null}},Dt=Object(Et.a)((function(e,t){switch(t.type){case n.SET_DIALOGS:e.dialogs=t.payload,e.LoadingStatus=p.LOADED;break;case n.FETCH_DIALOGS:e.LoadingStatus=p.LOADING;break;case n.SET_CURRENT_DIALOG:e.currentDialog={id:t.payload.id,user:t.payload.user};break;case n.UPDATE_DIALOG_NEW_MESSAGE:e.dialogs=e.dialogs.map((function(e){return e._id===t.payload&&(e.newMessages.count=0),e}))}}),wt),yt={messages:[],LoadingStatus:p.NEVER},It=Object(Et.a)((function(e,t){switch(t.type){case ze.SET_MESSAGES:e.messages=t.payload,e.LoadingStatus=p.LOADED;break;case ze.FETCH_MESSAGES:e.LoadingStatus=p.LOADING;break;case ze.ADD_MESSAGE:e.messages.push(t.payload);break;case ze.UPDATE_MESSAGE_READ_STATUS:e.messages=e.messages.map((function(e){var a;return(null===(a=e.dialog)||void 0===a?void 0:a._id)===t.payload&&(e.read=!0),e}))}}),yt),kt=Object(ue.b)({posts:At,post:gt,user:Nt,dialogs:Dt,messages:It}),Gt=a(157),Lt=a(5),Ct=function(){return Object(re.a)(se.a.mark((function e(){var t,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.a.get("/dialogs");case 2:return t=e.sent,a=t.data,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))()},Rt=function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.get("/dialogs/".concat(e));case 2:return a=t.sent,n=a.data,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},Mt=function(e){return Object(re.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.post("/dialogs",{partner:e});case 2:case"end":return t.stop()}}),t)})))()},Pt=function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.get("/messages?dialog=".concat(e));case 2:return a=t.sent,n=a.data,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},Ft=function(e){return Object(re.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.post("/messages",{text:e.text,dialog_id:e.dialogId});case 2:case"end":return t.stop()}}),t)})))()},Ut=se.a.mark(Yt),Ht=se.a.mark(Wt),Vt=se.a.mark(qt),Kt=se.a.mark(Jt);function Yt(){var e,t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Lt.d)(N);case 3:return e=a.sent,a.next=6,Object(Lt.b)(Ct);case 6:return t=a.sent,a.next=9,Object(Lt.c)((c=t,{type:n.SET_DIALOGS,payload:c}));case 9:if(!t.some((function(t){var a;return(null===(a=t.lastMessage.dialog)||void 0===a?void 0:a._id)===e.id}))){a.next=13;break}return a.next=13,Object(Lt.c)(v(e.id));case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0);case 18:case"end":return a.stop()}var c}),Ut,null,[[0,15]])}function Wt(e){var t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(Lt.b)(Mt,t);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),console.log(a.t0);case 9:case"end":return a.stop()}}),Ht,null,[[1,6]])}function qt(e){var t,a,n;return se.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(Lt.d)(w);case 4:return a=c.sent,c.next=7,Object(Lt.b)(Rt,t);case 7:return n=c.sent,c.next=10,Object(Lt.c)(h({id:t,user:a===n.author._id?n.partner:n.author}));case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),console.log(c.t0);case 15:case"end":return c.stop()}}),Vt,null,[[1,12]])}function Jt(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.e)(n.FETCH_DIALOGS,Yt);case 2:return e.next=4,Object(Lt.e)(n.CREATE_DIALOG,Wt);case 4:return e.next=6,Object(Lt.e)(n.GET_DIALOG,qt);case 6:case"end":return e.stop()}}),Kt)}var Bt=se.a.mark(zt),Zt=se.a.mark(Qt),Xt=se.a.mark($t);function zt(e){var t,a;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(Lt.b)(Pt,t);case 4:return a=n.sent,n.next=7,Object(Lt.c)(at(a));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),Bt,null,[[1,9]])}function Qt(e){var t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(Lt.b)(Ft,t);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),console.log(a.t0);case 9:case"end":return a.stop()}}),Zt,null,[[1,6]])}function $t(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.e)(ze.FETCH_MESSAGES,zt);case 2:return e.next=4,Object(Lt.e)(ze.FETCH_ADD_MESSAGE,Qt);case 4:case"end":return e.stop()}}),Xt)}var ea=function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.get(e?"/posts/user/".concat(e):"/posts");case 2:return a=t.sent,n=a.data,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},ta=function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.get("/posts/"+e);case 2:return a=t.sent,n=a.data,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},aa=function(e){return Object(re.a)(se.a.mark((function t(){var a,n;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.post("/posts",e);case 2:return a=t.sent,n=a.data,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},na=function(e){return Object(re.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.post("/posts/comment/".concat(e.id),{text:e.text});case 2:case"end":return t.stop()}}),t)})))()},ca=function(e){return Object(re.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.patch("/posts/"+e.id,{text:e.text});case 2:case"end":return t.stop()}}),t)})))()},sa=function(e){return Object(re.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.delete("/posts/"+e);case 2:case"end":return t.stop()}}),t)})))()},ra=function(e){return Object(re.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.a.patch("/posts/likes/"+e);case 2:case"end":return t.stop()}}),t)})))()},ia=se.a.mark(da),oa=se.a.mark(ja),ua=se.a.mark(ba),la=se.a.mark(Oa);function da(){var e,t,a;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=window.location.pathname,t=e.includes("/post")?e.split("/").pop():void 0,n.next=5,Object(Lt.b)(ta,t);case 5:return a=n.sent,n.next=8,Object(Lt.c)(Q(a));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("error");case 13:case"end":return n.stop()}}),ia,null,[[0,10]])}function ja(e){var t,a;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(Lt.d)(A);case 4:return a=n.sent,n.next=7,Object(Lt.c)(te({user:{_id:a._id,fullname:a.fullname,avatar:a.avatar}}));case 7:return console.log(t),n.next=10,Object(Lt.b)(ra,t);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0);case 15:case"end":return n.stop()}}),oa,null,[[1,12]])}function ba(e){var t,a,n,c;return se.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,a=window.location.pathname,n=a.includes("/post")?a.split("/").pop():void 0,s.next=6,Object(Lt.d)(A);case 6:return c=s.sent,s.next=9,Object(Lt.b)(na,{id:n,text:t});case 9:return s.next=11,Object(Lt.c)(ee({user:c,text:t}));case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),console.log("error");case 16:case"end":return s.stop()}}),ua,null,[[1,13]])}function Oa(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.e)(f.FETCH_POST,da);case 2:return e.next=4,Object(Lt.e)(f.FETCH_TOGGLE_LIKE_POST,ja);case 4:return e.next=6,Object(Lt.e)(f.FETCH_ADD_COMMENT_TO_POST,ba);case 6:case"end":return e.stop()}}),la)}var _a=se.a.mark(fa),pa=se.a.mark(Ea),ma=se.a.mark(ga),xa=se.a.mark(Sa),ha=se.a.mark(Na),va=se.a.mark(Ta);function fa(){var e,t,a;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=window.location.pathname,t=e.includes("/user")?e.split("/").pop():void 0,n.next=5,Object(Lt.b)(ea,t);case 5:return a=n.sent,n.next=8,Object(Lt.c)((c=a,{type:z.SET_POSTS,payload:c}));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(Lt.c)(be(p.ERROR));case 14:case"end":return n.stop()}var c}),_a,null,[[0,10]])}function Ea(e){var t,a;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(Lt.b)(aa,t);case 4:return a=n.sent,n.next=7,Object(Lt.c)(je(a));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(Lt.c)(Oe(de.ERROR));case 13:case"end":return n.stop()}}),pa,null,[[1,9]])}function ga(e){var t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(Lt.b)(sa,t);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u0432\u0438\u0442\u0430");case 9:case"end":return a.stop()}}),ma,null,[[1,6]])}function Sa(e){var t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(Lt.b)(ca,t);case 4:a.next=10;break;case 6:return a.prev=6,a.t0=a.catch(1),a.next=10,Object(Lt.c)(be(p.ERROR));case 10:case"end":return a.stop()}}),xa,null,[[1,6]])}function Na(e){var t,a;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(Lt.d)(A);case 4:return a=n.sent,n.next=7,Object(Lt.c)(pe({id:t,user:{_id:a._id,fullname:a.fullname,avatar:a.avatar}}));case 7:return n.next=9,Object(Lt.b)(ra,t);case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),console.log(n.t0),n.next=16,Object(Lt.c)(be(p.ERROR));case 16:case"end":return n.stop()}}),ha,null,[[1,11]])}function Ta(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.e)(z.FETCH_POSTS,fa);case 2:return e.next=4,Object(Lt.e)(z.FETCH_ADD_POST,Ea);case 4:return e.next=6,Object(Lt.e)(z.REMOVE_POST,ga);case 6:return e.next=8,Object(Lt.e)(z.UPDATE_POST,Sa);case 8:return e.next=10,Object(Lt.e)(z.FETCH_TOGGLE_LIKE_POST,Na);case 10:case"end":return e.stop()}}),va)}var Aa=se.a.mark(ka),wa=se.a.mark(Ga),Da=se.a.mark(La),ya=se.a.mark(Ca),Ia=se.a.mark(Ra);function ka(e){var t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(Lt.c)(Ue(p.LOADING));case 4:return a.next=6,Object(Lt.b)(Xe.signUp,t);case 6:return a.next=8,Object(Lt.c)(Ue(p.SUCCESS));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,Object(Lt.c)(Ue(p.ERROR));case 14:case"end":return a.stop()}}),Aa,null,[[1,10]])}function Ga(e){var t,a,n;return se.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(Lt.c)(Ue(p.LOADING));case 4:return c.next=6,Object(Lt.b)(Xe.signIn,t);case 6:return a=c.sent,n=a.data,window.localStorage.setItem("token",n.token),c.next=11,Object(Lt.c)(Me(n));case 11:return c.next=13,Object(Lt.c)(Pe(n._id));case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(1),c.next=19,Object(Lt.c)(Ue(p.ERROR));case 19:case"end":return c.stop()}}),wa,null,[[1,15]])}function La(){var e,t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Lt.c)(Ue(p.LOADING));case 3:return a.next=5,Object(Lt.b)(Xe.getMe);case 5:return e=a.sent,t=e.data,a.next=9,Object(Lt.c)(Me(t));case 9:return a.next=11,Object(Lt.c)(Pe(t._id));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(Lt.c)(Ue(m.UNAUTHORIZED));case 17:case"end":return a.stop()}}),Da,null,[[0,13]])}function Ca(e){var t,a,n,c;return se.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,s.next=4,Object(Lt.c)(Ue(p.LOADING));case 4:return s.next=6,Object(Lt.b)(Xe.verify,t);case 6:if(a=s.sent,n=a.status,c=a.data,"success"!==n){s.next=15;break}return window.localStorage.setItem("token",c.token),s.next=13,Object(Lt.c)(Fe(!0));case 13:s.next=17;break;case 15:return s.next=17,Object(Lt.c)(Fe(!1));case 17:return s.next=19,Object(Lt.c)(Ue(p.SUCCESS));case 19:s.next=25;break;case 21:return s.prev=21,s.t0=s.catch(1),s.next=25,Object(Lt.c)(Ue(p.ERROR));case 25:case"end":return s.stop()}}),ya,null,[[1,21]])}function Ra(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.e)(xe.FETCH_SIGN_UP,ka);case 2:return e.next=4,Object(Lt.e)(xe.FETCH_SIGN_IN,Ga);case 4:return e.next=6,Object(Lt.e)(xe.VERIFY_EMAIL,Ca);case 6:return e.next=8,Object(Lt.e)(xe.FETCH_USER_DATA,La);case 8:case"end":return e.stop()}}),Ia)}var Ma=se.a.mark(Pa);function Pa(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.a)([Ta(),Oa(),Ra(),Jt(),$t()]);case 2:case"end":return e.stop()}}),Ma)}var Fa="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ue.c,Ua=Object(Gt.a)(),Ha=Object(ue.d)(kt,Fa(Object(ue.a)(Ua)));Ua.run(Pa),i.a.render(Object(k.jsx)(l.a,{children:Object(k.jsx)(o.a,{store:Ha,children:Object(k.jsx)(ft,{})})}),document.getElementById("root"))}},[[315,1,2]]]);
//# sourceMappingURL=main.158e167f.chunk.js.map